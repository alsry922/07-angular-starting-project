1. Now last but not least, there is one other feature that you can use in Directives, which you should know about.  
   **ë§ˆì§€ë§‰ìœ¼ë¡œ, ì§€ì‹œì–´ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë˜ ë‹¤ë¥¸ ê¸°ëŠ¥ì´ í•˜ë‚˜ ë” ìˆìŠµë‹ˆë‹¤. ì´ ê¸°ëŠ¥ì— ëŒ€í•´ ì•Œì•„ì•¼ í•©ë‹ˆë‹¤.**

2. Because you can inject services or, in general, things into your directives, 
   just as you can use dependency injection in components.  
   **ì§€ì‹œì–´ì—ë„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì˜ì¡´ì„± ì£¼ì…ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì²˜ëŸ¼ ì„œë¹„ìŠ¤ë‚˜ ë‹¤ë¥¸ í•­ëª©ì„ ì£¼ì…í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.**

3. It's no different in directives.  
   **ì§€ì‹œì–´ì—ì„œë„ ë‹¤ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.**

4. And you could inject any service of your choice here, like the auth service,  
   but you can also actually inject the host element or a reference to that host element.  
   **ì—¬ê¸°ì—ì„œ ì¸ì¦ ì„œë¹„ìŠ¤ì™€ ê°™ì€ ì›í•˜ëŠ” ì„œë¹„ìŠ¤ë¥¼ ì£¼ì…í•  ìˆ˜ ìˆì§€ë§Œ,  
   í˜¸ìŠ¤íŠ¸ ìš”ì†Œë‚˜ í•´ë‹¹ ìš”ì†Œì˜ ì°¸ì¡°ë¥¼ ì£¼ì…í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.**

5. Just as you saw it earlier for components as well, in case you want to get access to that host element.  
   **ì´ëŠ” ì»´í¬ë„ŒíŠ¸ì—ì„œ ì´ë¯¸ ë³¸ ê²ƒì²˜ëŸ¼, í˜¸ìŠ¤íŠ¸ ìš”ì†Œì— ì ‘ê·¼í•´ì•¼ í•˜ëŠ” ê²½ìš° ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.**

6. And that's what I'll do here.  
   **ì—¬ê¸°ì—ì„œë„ ê·¸ë ‡ê²Œ í•´ë³´ê² ìŠµë‹ˆë‹¤.**

7. I'll add a new private property, which I'll name `hostElementRef`.  
   **`hostElementRef`ë¼ëŠ” ì´ë¦„ì˜ ìƒˆë¡œìš´ ë¹„ê³µê°œ ì†ì„±ì„ ì¶”ê°€í•˜ê² ìŠµë‹ˆë‹¤.**

8. The name, of course, is up to you.  
   **ì´ ì´ë¦„ì€ ë¬¼ë¡  ììœ ë¡­ê²Œ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.**

9. And I'll then use this `inject` function. Alternatively, we could use the constructor for injecting it,  
   and I'll inject an `ElementRef` here, like this, which is imported from Angular core.  
   **ê·¸ëŸ° ë‹¤ìŒ `inject` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ê² ìŠµë‹ˆë‹¤.  
   ë˜ëŠ” ìƒì„±ìë¥¼ ì‚¬ìš©í•˜ì—¬ ì£¼ì…í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.  
   ì—¬ê¸°ì„œëŠ” Angular Coreì—ì„œ ê°€ì ¸ì˜¨ `ElementRef`ë¥¼ ì£¼ì…í•˜ê² ìŠµë‹ˆë‹¤.**

10. Now, that's the same approach we used in a component to inject the host element of that component 
    or a reference to that host element.  
    **ì´ëŠ” ì»´í¬ë„ŒíŠ¸ì—ì„œ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ì˜ í˜¸ìŠ¤íŠ¸ ìš”ì†Œë‚˜ ì°¸ì¡°ë¥¼ ì£¼ì…í•  ë•Œ ì‚¬ìš©í•œ ë°©ì‹ê³¼ ë™ì¼í•©ë‹ˆë‹¤.**

11. It's the same approach here.  
    **ì—¬ê¸°ì„œë„ ë™ì¼í•œ ì ‘ê·¼ ë°©ì‹ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.**

12. Now I wanna give Angular, or TypeScript to be precise,  
    some extra information about the type of host element this directive will be used on.  
    **ì´ì œ Angular, ë” ì •í™•íˆëŠ” TypeScriptì— ëŒ€í•´  
    ì´ ì§€ì‹œì–´ê°€ ì‚¬ìš©ë  í˜¸ìŠ¤íŠ¸ ìš”ì†Œì˜ íƒ€ì… ì •ë³´ë¥¼ ì¶”ê°€ë¡œ ì œê³µí•˜ê³ ì í•©ë‹ˆë‹¤.**

13. And that's why `inject` actually is a generic function  
    where you can use these angle brackets to provide some extra type information to it.  
    **ê·¸ë˜ì„œ `inject`ëŠ” ì œë„¤ë¦­ í•¨ìˆ˜ì´ë©°,  
    ì—¬ê¸°ì—ì„œ êº¾ì‡  ê´„í˜¸ë¥¼ ì‚¬ìš©í•´ ì¶”ê°€ì ì¸ íƒ€ì… ì •ë³´ë¥¼ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.**

14. In this case, I can tell TypeScript which kind of value will be available in this `hostElementRef` property 
    after this was injected.  
    **ì´ ê²½ìš°, ì£¼ì…ì´ ì™„ë£Œëœ í›„ `hostElementRef` ì†ì„±ì— ì–´ë–¤ ê°’ì´  
    ë“¤ì–´ê°ˆì§€ë¥¼ TypeScriptì— ì•Œë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.**

15. And what will be available here will be an `ElementRef`,  
    but that in turn, as you learned,  
    is a wrapper object around the host element type object.  
    **ì—¬ê¸°ì—ì„œ ì‚¬ìš©í•  ê°’ì€ `ElementRef`ê°€ ë  ê²ƒì…ë‹ˆë‹¤.  
    ê·¸ëŸ¬ë‚˜ ì´ëŠ” í˜¸ìŠ¤íŠ¸ ìš”ì†Œ íƒ€ì… ê°ì²´ë¥¼ ê°ì‹¸ëŠ” ë˜í¼ ê°ì²´ë¼ëŠ” ì ì„ ë°°ì› ìŠµë‹ˆë‹¤.**

---

ì¤‘ê°„ ë²ˆì—­ì„ ì €ì¥í–ˆìŠµë‹ˆë‹¤. ê³„ì† ì´ì–´ì„œ ì§„í–‰í•˜ê² ìŠµë‹ˆë‹¤.

16. And therefore, `ElementRef` also takes angle brackets  
    so that we can define which kind of value  
    will be wrapped by this `ElementRef` wrapper object.  
    **ë”°ë¼ì„œ `ElementRef`ë„ êº¾ì‡  ê´„í˜¸ë¥¼ ì‚¬ìš©í•˜ì—¬  
    ì´ `ElementRef` ë˜í¼ ê°ì²´ê°€ ê°ìŒ€ ê°’ì˜ íƒ€ì…ì„ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.**

17. And here that will be an `HTMLAnchorElement`  
    because we know that this directive is used on an anchor element.  
    **ì—¬ê¸°ì—ì„œëŠ” `HTMLAnchorElement`ê°€ ë  ê²ƒì…ë‹ˆë‹¤.  
    ì´ ì§€ì‹œì–´ê°€ ì•µì»¤ ìš”ì†Œì—ì„œ ì‚¬ìš©ëœë‹¤ëŠ” ê²ƒì„ ì•Œê³  ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.**

18. So when we inject the host element,  
    that will be an `HTMLAnchorElement` type of value.  
    **ë”°ë¼ì„œ í˜¸ìŠ¤íŠ¸ ìš”ì†Œë¥¼ ì£¼ì…í•˜ë©´,  
    ì´ëŠ” `HTMLAnchorElement` íƒ€ì…ì˜ ê°’ì´ ë  ê²ƒì…ë‹ˆë‹¤.**

19. Well, and with that, we could use this `hostElementRef`  
    here instead of `event.target`  
    in our `onConfirmLeavePage` method.  
    **ì´ë ‡ê²Œ í•˜ë©´ `onConfirmLeavePage` ë©”ì„œë“œì—ì„œ  
    `event.target` ëŒ€ì‹  `hostElementRef`ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.**

20. So there we could use `this.hostElementRef.nativeElement`,  
    and also use this to update the `href` before we leave the page.  
    **ë”°ë¼ì„œ `this.hostElementRef.nativeElement`ë¥¼ ì‚¬ìš©í•˜ì—¬  
    í˜ì´ì§€ë¥¼ ë– ë‚˜ê¸° ì „ì— `href`ë¥¼ ì—…ë°ì´íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.**

21. So we can use this injected host element reference.  
    **ì´ ì£¼ì…ëœ í˜¸ìŠ¤íŠ¸ ìš”ì†Œ ì°¸ì¡°ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.**

22. And with that, if we reload,  
    if I click here and I confirm this,  
    this still works the way it did before.  
    **ì´ ì‘ì—… í›„ í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•˜ê³   
    í´ë¦­í•œ ë‹¤ìŒ í™•ì¸ì„ ëˆ„ë¥´ë©´,  
    ì´ì „ê³¼ ë™ì¼í•˜ê²Œ ì‘ë™í•©ë‹ˆë‹¤.**

23. This query parameter is still being added,  
    but now with help of the injected host element.  
    **ì´ ì¿¼ë¦¬ ë§¤ê°œë³€ìˆ˜ëŠ” ì—¬ì „íˆ ì¶”ê°€ë˜ì§€ë§Œ,  
    ì´ì œ ì£¼ì…ëœ í˜¸ìŠ¤íŠ¸ ìš”ì†Œì˜ ë„ì›€ì„ ë°›ì•„ ìˆ˜í–‰ë©ë‹ˆë‹¤.**

24. And that, therefore, hopefully gives you a good idea  
    of what you can do with attribute directives  
    and when you might want to build a custom attribute directive.  
    **ì´ë¥¼ í†µí•´ ì†ì„± ì§€ì‹œì–´ë¡œ ë¬´ì—‡ì„ í•  ìˆ˜ ìˆëŠ”ì§€,  
    ê·¸ë¦¬ê³  ì‚¬ìš©ì ì •ì˜ ì†ì„± ì§€ì‹œì–´ë¥¼ ì–¸ì œ ë§Œë“¤ì–´ì•¼ í•˜ëŠ”ì§€  
    ì¢‹ì€ ì•„ì´ë””ì–´ë¥¼ ì–»ì„ ìˆ˜ ìˆê¸°ë¥¼ ë°”ëë‹ˆë‹¤.**

25. Though, I'll also say it right away,  
    that in most Angular applications,  
    you will probably only build a few attribute directives  
    and you'll mostly work with components instead.  
    **í•˜ì§€ë§Œ ëŒ€ë¶€ë¶„ì˜ Angular ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œëŠ”  
    ì†ì„± ì§€ì‹œì–´ë¥¼ ëª‡ ê°œë§Œ ë§Œë“¤ê³ ,  
    ì£¼ë¡œ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ê°€ ë§ì„ ê²ƒì…ë‹ˆë‹¤.**

26. Directives are a key Angular feature,  
    but they're not a feature you're going to use all the time.  
    **ì§€ì‹œì–´ëŠ” Angularì˜ í•µì‹¬ ê¸°ëŠ¥ì´ì§€ë§Œ,  
    í•­ìƒ ì‚¬ìš©í•˜ëŠ” ê¸°ëŠ¥ì€ ì•„ë‹™ë‹ˆë‹¤.**

27. Instead, the main feature really are components.  
    **ëŒ€ì‹  ì»´í¬ë„ŒíŠ¸ê°€ ì£¼ìš” ê¸°ëŠ¥ì…ë‹ˆë‹¤.**

28. Nonetheless, directives matter,  
    and this here was just one type of directive.  
    **ê·¸ëŸ¼ì—ë„ ë¶ˆêµ¬í•˜ê³  ì§€ì‹œì–´ëŠ” ì¤‘ìš”í•œ ê¸°ëŠ¥ì´ë©°,  
    ì—¬ê¸°ì—ì„œ ë‹¤ë£¬ ê²ƒì€ ì§€ì‹œì–´ì˜ í•œ ìœ í˜•ì¼ ë¿ì…ë‹ˆë‹¤.**

29. Next, let's build a custom structural directive.  
    **ë‹¤ìŒìœ¼ë¡œ ì‚¬ìš©ì ì •ì˜ êµ¬ì¡° ì§€ì‹œì–´ë¥¼ ë§Œë“¤ì–´ ë³´ê² ìŠµë‹ˆë‹¤.**

---

ë²ˆì—­ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ì¶”ê°€ ìš”ì²­ì´ ìˆìœ¼ë©´ ë§ì”€í•´ ì£¼ì„¸ìš”! ğŸ˜Š
