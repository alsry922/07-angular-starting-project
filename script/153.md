ë‹¤ì‹œ ë²ˆì—­í•˜ê² ìŠµë‹ˆë‹¤. ë¬¸ì¥ì„ ë” ìì£¼ ì¤„ë°”ê¿ˆí•˜ì—¬ ê¹”ë”í•˜ê²Œ ì •ë¦¬í•˜ê² ìŠµë‹ˆë‹¤.

---

1. So the goal is to get a warning when we click this link here  
   and we want to be asked whether we really wanna leave the page.  
   **ëª©í‘œëŠ” ì´ ë§í¬ë¥¼ í´ë¦­í•  ë•Œ ê²½ê³  ë©”ì‹œì§€ë¥¼ ë°›ê³ ,  
   ì •ë§ë¡œ í˜ì´ì§€ë¥¼ ë– ë‚  ê²ƒì¸ì§€ ë¬¼ì–´ë³´ëŠ” ê²ƒì…ë‹ˆë‹¤.**

2. So therefore, in this SafeLink directive,  
   we wanna listen to clicks on the element  
   to which this directive was added.  
   **ë”°ë¼ì„œ ì´ SafeLink ì§€ì‹œì–´ì—ì„œëŠ”  
   ì§€ì‹œì–´ê°€ ì¶”ê°€ëœ ìš”ì†Œì—ì„œ í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ê°ì§€í•˜ë ¤ê³  í•©ë‹ˆë‹¤.**

3. And one way, and the main way, of listening to such clicks  
   would be to use the host configuration option here  
   on this directive configuration object.  
   **ì´ëŸ¬í•œ í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ê°ì§€í•˜ëŠ” ì£¼ìš” ë°©ë²• ì¤‘ í•˜ë‚˜ëŠ”  
   ì§€ì‹œì–´ êµ¬ì„± ê°ì²´ì˜ `host` êµ¬ì„± ì˜µì…˜ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.**

4. Because just as with the component decorator,  
   the directive decorator allows us to add attributes  
   or event listeners to the host element  
   that is controlled or enhanced by this directive.  
   **ì»´í¬ë„ŒíŠ¸ ë°ì½”ë ˆì´í„°ì™€ ë§ˆì°¬ê°€ì§€ë¡œ,  
   ì§€ì‹œì–´ ë°ì½”ë ˆì´í„°ëŠ” ì§€ì‹œì–´ê°€ ì œì–´í•˜ê±°ë‚˜ í™•ì¥í•˜ëŠ”  
   í˜¸ìŠ¤íŠ¸ ìš”ì†Œì— ì†ì„±ì´ë‚˜ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.**

5. So to this anchor element with this attribute here, in this case.  
   **ë”°ë¼ì„œ ì´ ê²½ìš°, ì´ ì†ì„±ì´ ì¶”ê°€ëœ ì•µì»¤ ìš”ì†Œì— ì ìš©ë©ë‹ˆë‹¤.**

6. And here I wanna listen to click events  
   just as you learned it in the components section earlier in this course,  
   by adding a key with this name to this host object.  
   **ì—¬ê¸°ì„œ ì €ëŠ” í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ê°ì§€í•˜ë ¤ê³  í•©ë‹ˆë‹¤.  
   ì´ëŠ” ì´ ê°•ì˜ì˜ ì»´í¬ë„ŒíŠ¸ ì„¹ì…˜ì—ì„œ ë°°ì› ë˜ ê²ƒì²˜ëŸ¼,  
   `host` ê°ì²´ì— í•´ë‹¹ ì´ë¦„ì˜ í‚¤ë¥¼ ì¶”ê°€í•˜ì—¬ êµ¬í˜„í•©ë‹ˆë‹¤.**

7. And as a value, we then specify a code  
   that should be executed by Angular when that event occurs.  
   **ê·¸ë¦¬ê³  ê°’ìœ¼ë¡œëŠ” í•´ë‹¹ ì´ë²¤íŠ¸ê°€ ë°œìƒí•  ë•Œ  
   Angularê°€ ì‹¤í–‰í•´ì•¼ í•  ì½”ë“œë¥¼ ì§€ì •í•©ë‹ˆë‹¤.**

8. And we're using this Angular event binding syntax here.  
   **ì—¬ê¸°ì„œëŠ” Angularì˜ ì´ë²¤íŠ¸ ë°”ì¸ë”© ë¬¸ë²•ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.**

9. That's what you also learned in the components deep dive section.  
   **ì´ê²ƒì€ ì»´í¬ë„ŒíŠ¸ ì‹¬í™” í•™ìŠµ ì„¹ì…˜ì—ì„œ ë°°ìš´ ë‚´ìš©ê³¼ ê°™ìŠµë‹ˆë‹¤.**

10. Now, the code that should execute here is, in the end,  
    a function that should be triggered.  
    **ì—¬ê¸°ì„œ ì‹¤í–‰í•´ì•¼ í•  ì½”ë“œëŠ” ìµœì¢…ì ìœ¼ë¡œ í˜¸ì¶œë  í•¨ìˆ˜ì…ë‹ˆë‹¤.**

11. And therefore I'll start by adding that function  
    to this SafeLink directive class  
    and I'll name it `onConfirmLeavePage`.  
    **ë”°ë¼ì„œ ì´ SafeLink ì§€ì‹œì–´ í´ë˜ìŠ¤ì—  
    í•´ë‹¹ í•¨ìˆ˜ë¥¼ ì¶”ê°€í•˜ê³ , ì´ë¥¼ `onConfirmLeavePage`ë¼ê³  ì´ë¦„ ë¶™ì´ê² ìŠµë‹ˆë‹¤.**

12. But the name is up to you of course.  
    **ë¬¼ë¡  ì´ë¦„ì€ ììœ ë¡­ê²Œ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.**

13. And in there, I can use `window.confirm`  
    to use a method built into the browser  
    to ask the user, "Do you want to leave the app?"  
    **ê·¸ë¦¬ê³  ê·¸ í•¨ìˆ˜ì—ì„œ `window.confirm`ì„ ì‚¬ìš©í•˜ì—¬  
    ë¸Œë¼ìš°ì €ì— ë‚´ì¥ëœ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•´  
    ì‚¬ìš©ìì—ê²Œ "ì•±ì„ ë– ë‚˜ê² ìŠµë‹ˆê¹Œ?"ë¼ê³  ë¬»ë„ë¡ í•©ë‹ˆë‹¤.**

14. And as a result, I'll get back a boolean value,  
    which I can store in a constant named `wantsToLeave`.  
    **ê·¸ ê²°ê³¼ë¡œ boolean ê°’ì„ ë°˜í™˜ë°›ìœ¼ë©°,  
    ì´ë¥¼ `wantsToLeave`ë¼ëŠ” ìƒìˆ˜ì— ì €ì¥í•©ë‹ˆë‹¤.**

15. And then we can check if `wantsToLeave` is true,  
    so if the user wants to leave the page,  
    in which case I'll return and not do anything.  
    **ê·¸ë¦¬ê³  `wantsToLeave`ê°€ trueì¸ì§€ í™•ì¸í•©ë‹ˆë‹¤.  
    ì¦‰, ì‚¬ìš©ìê°€ í˜ì´ì§€ë¥¼ ë– ë‚˜ê¸°ë¥¼ ì›í•  ê²½ìš°  
    ê·¸ëƒ¥ ë°˜í™˜í•˜ê³  ì•„ë¬´ ì‘ì—…ë„ ìˆ˜í–‰í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.**

16. But else if `wantsToLeave` is false,  
    so if you make it past this if check,  
    I want to prevent the default of the event.  
    **ê·¸ëŸ¬ë‚˜ `wantsToLeave`ê°€ falseì´ë©´,  
    ì¦‰, ì¡°ê±´ë¬¸ì„ í†µê³¼í•œ ê²½ìš°,  
    ì´ë²¤íŠ¸ì˜ ê¸°ë³¸ ë™ì‘ì„ ë°©ì§€í•˜ë ¤ê³  í•©ë‹ˆë‹¤.**

17. Which I expect to get here on `onConfirmLeavePage`,  
    and that will be of type `MouseEvent`,  
    which is a built-in type provided by TypeScript.  
    **ì´ ì´ë²¤íŠ¸ëŠ” `onConfirmLeavePage`ì—ì„œ ë°›ì„ ê²ƒìœ¼ë¡œ ì˜ˆìƒë˜ë©°,  
    ì´ëŠ” TypeScriptì—ì„œ ì œê³µí•˜ëŠ” ë‚´ì¥ íƒ€ì…ì¸ `MouseEvent`ì…ë‹ˆë‹¤.**

18. And I wanna prevent that default of that event  
    to cancel this navigation  
    that would otherwise be triggered by the anchor element.  
    **ê·¸ë¦¬ê³  í•´ë‹¹ ì´ë²¤íŠ¸ì˜ ê¸°ë³¸ ë™ì‘ì„ ë°©ì§€í•˜ì—¬  
    ì•µì»¤ ìš”ì†Œê°€ íŠ¸ë¦¬ê±°í•˜ëŠ” ë„¤ë¹„ê²Œì´ì…˜ì„ ì·¨ì†Œí•˜ë ¤ê³  í•©ë‹ˆë‹¤.**

19. So with that, if the user chooses no,  
    we will cancel that navigation.  
    **ë”°ë¼ì„œ ì‚¬ìš©ìê°€ "ì•„ë‹ˆìš”"ë¥¼ ì„ íƒí•˜ë©´,  
    ë„¤ë¹„ê²Œì´ì…˜ì´ ì·¨ì†Œë©ë‹ˆë‹¤.**

20. Now we just need to make sure  
    that `onConfirmLeavePage` is triggered.  
    **ì´ì œ `onConfirmLeavePage`ê°€ í˜¸ì¶œë˜ë„ë¡ í•´ì•¼ í•©ë‹ˆë‹¤.**

21. And therefore, here in this host setting,  
    we should execute that  
    and then pass this special `$event` variable  
    that is provided by Angular here  
    when using this event binding syntax  
    to `onConfirmLeavePage`.  
    **ë”°ë¼ì„œ ì´ `host` ì„¤ì •ì—ì„œ í•´ë‹¹ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•´ì•¼ í•˜ë©°,  
    Angularê°€ ì´ë²¤íŠ¸ ë°”ì¸ë”© ë¬¸ë²•ì„ ì‚¬ìš©í•  ë•Œ ì œê³µí•˜ëŠ”  
    íŠ¹ë³„í•œ `$event` ë³€ìˆ˜ë¥¼ `onConfirmLeavePage`ë¡œ ì „ë‹¬í•´ì•¼ í•©ë‹ˆë‹¤.**

22. And `$event` will be such a `MouseEvent` object  
    that's automatically generated by the browser  
    in the end when an anchor element is clicked.  
    **`$event`ëŠ” ì•µì»¤ ìš”ì†Œë¥¼ í´ë¦­í–ˆì„ ë•Œ  
    ë¸Œë¼ìš°ì €ì—ì„œ ìë™ìœ¼ë¡œ ìƒì„±ë˜ëŠ”  
    `MouseEvent` ê°ì²´ê°€ ë©ë‹ˆë‹¤.**

23. So that will trigger this method  
    whenever the host element of this directive,  
    which is this anchor element with this attribute, is being clicked.  
    **ë”°ë¼ì„œ ì´ ì§€ì‹œì–´ì˜ í˜¸ìŠ¤íŠ¸ ìš”ì†Œì¸  
    ì´ ì†ì„±ì„ ê°€ì§„ ì•µì»¤ ìš”ì†Œê°€ í´ë¦­ë  ë•Œë§ˆë‹¤  
    ì´ ë©”ì„œë“œê°€ í˜¸ì¶œë©ë‹ˆë‹¤.**

24. So with all that done, if we saved that all,  
    and you go back,  
    if you click that first link where I did add that directive,  
    you should get that dialogue here.  
    **ì´ ëª¨ë“  ì‘ì—…ì„ ì €ì¥í•œ ë’¤  
    ë‹¤ì‹œ ëŒì•„ê°€ì„œ ì œê°€ ì§€ì‹œì–´ë¥¼ ì¶”ê°€í–ˆë˜ ì²« ë²ˆì§¸ ë§í¬ë¥¼ í´ë¦­í•˜ë©´,  
    ì´ ëŒ€í™” ìƒìê°€ í‘œì‹œë  ê²ƒì…ë‹ˆë‹¤.**

25. And if you click Cancel, you should stay on this page.  
    **"ì·¨ì†Œ"ë¥¼ í´ë¦­í•˜ë©´ ì´ í˜ì´ì§€ì— ë¨¸ë¬´ë¥´ê²Œ ë©ë‹ˆë‹¤.**

26. If you click Okay, you should be navigated away  
    because we either prevent that navigation or not,  
    depending on what the user chose.  
    **"í™•ì¸"ì„ í´ë¦­í•˜ë©´ ì‚¬ìš©ìì˜ ì„ íƒì— ë”°ë¼  
    ë„¤ë¹„ê²Œì´ì…˜ì„ ë°©ì§€í•˜ê±°ë‚˜ í—ˆìš©í•˜ê²Œ ë˜ë¯€ë¡œ,  
    í˜ì´ì§€ë¥¼ ì´ë™í•˜ê²Œ ë©ë‹ˆë‹¤.**

27. But that's an example for an attribute directive  
    that we can build ourselves to enhance built-in elements,  
    in this case, anchor elements.  
    **í•˜ì§€ë§Œ ì´ê²ƒì€ ì†ì„± ì§€ì‹œì–´ì˜ ì˜ˆë¡œ,  
    ë‚´ì¥ ìš”ì†Œ(ì´ ê²½ìš° ì•µì»¤ ìš”ì†Œ)ë¥¼ í™•ì¥í•˜ê¸° ìœ„í•´  
    ìš°ë¦¬ê°€ ì§ì ‘ ì‘ì„±í•  ìˆ˜ ìˆëŠ” ì§€ì‹œì–´ì…ë‹ˆë‹¤.**

28. So that we can easily add this confirmation feature here  
    to any link in our application  
    by simply putting that directive onto it.  
    **ë”°ë¼ì„œ ì´ ì§€ì‹œì–´ë¥¼ ì¶”ê°€í•¨ìœ¼ë¡œì¨  
    ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ëª¨ë“  ë§í¬ì—  
    ì‰½ê²Œ í™•ì¸ ê¸°ëŠ¥ì„ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.**

29. And that's why you sometimes might need directives  
    because they do allow you to add quick and easy enhancements like this.  
    **ì´ëŸ° ì´ìœ ë¡œ ì§€ì‹œì–´ê°€ í•„ìš”í•  ë•Œê°€ ìˆìœ¼ë©°,  
    ì§€ì‹œì–´ëŠ” ì´ë ‡ê²Œ ë¹ ë¥´ê³  ê°„ë‹¨í•œ ê¸°ëŠ¥ í™•ì¥ì„ ê°€ëŠ¥í•˜ê²Œ í•´ì¤ë‹ˆë‹¤.**

---

ë²ˆì—­ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ì¶”ê°€ ìš”ì²­ ì‚¬í•­ì´ ìˆìœ¼ë©´ ë§ì”€í•´ ì£¼ì„¸ìš”! ğŸ˜Š
